# EUHEMC Signed Credential Example (JAdES D-Zero Profile)

This example transforms the unsigned credential into a JWS Compact Serialisation using the JAdES D-Zero signature profile. The credential is signed with the university’s ECDSA P-256 key ({"kty":"EC","x":"9f00-IlhEFVmlpCU8u51i4ZqCAY1bMHUu5OEbXOrOz8","y":"84Mp_hrdzqRDD3a8DNYPONWJYPND1H6WkN-NmnrRbD8","crv":"P-256","d":"Cb-7omOc3t9dSK6qx6ss6QenLS2EIB-wG7tfZJW_Tbw"}). Due to the inability to compute the signature directly, a placeholder is used.

-The signed credential uses the JAdES D-Zero profile, with a header specifying `typ: jades-d-z`, `cty: vc+ld+json`, and `sigPl` with the university’s address.
- The payload is the minified unsigned credential, including all mandatory elements from the Council Recommendation (Annex I) such as `issuerCountry`, `qualityAssurance`, `level`, `participationForm`, and `assessmentType`.
- The signature placeholder would be replaced by an ECDSA signature computed with the private key.
- Verification involves decoding the JWS, checking the header parameters, validating the signature using the public key from the issuer’s DID, and ensuring all mandatory elements are present.

## JWS Structure:

### Protected Header:

```json
{
  "alg": "ES256",
  "typ": "jades-d-z",
  "cty": "vc+ld+json",
  "kid": "did:ebsi:ziuFQNRWr6vNeEpTgimmCpw#keys-1",
  "crit": ["sigT", "sigPl"],
  "sigT": "2025-05-04T10:00:00Z",
  "sigPl": {
    "addressCountry": "ES",
    "addressLocality": "Tarragona",
    "postalCode": "43007",
    "streetAddress": "Carrer de l'Escorxador, s/n"
  }
}
```

### Base64URL:

eyJhbGciOiJFUzI1NiIsInR5cCI6ImphZGVzLWQteiIsImN0eSI6InZjK2xkK2pzb24iLCJraWQiOiJkaWQ6ZWJzaTp6aXVGUU5SV3I2dk5lRXBUZ2ltbUNwdyNrZXlzLTEiLCJjcml0IjpbInNpZ1QiLCJzaWdQbCJdLCJzaWdUIjoiMjAyNS0wNS0wNFQxMDowMDowMFoiLCJzaWdQbCI6eyJhZGRyZXNzQ291bnRyeSI6IkVTIiwiYWRkcmVzc0xvY2FsaXR5IjoiVGFycmFnb25hIiwicG9zdGFsQ29kZSI6IjQzMDA3Iiwic3RyZWV0QWRkcmVzcyI6IkNhcnJlciBkZSBsJ0VzY29yeGFkb3IsIHMvbiJ9fQ

### Payload: 

#### The unsigned credential (minified).
```json
{"@context":["https://www.w3.org/2018/credentials/v1","https://w3id.org/edc/v1"],"id":"urn:uuid:4f8d7c9e-9a1b-4b1e-8f2a-5c3e6d7b9c0d","type":["VerifiableCredential","EuropeanDigitalCredential","EuropeanHigherEducationMicroCredentials"],"issuer":{"id":"did:ebsi:ziuFQNRWr6vNeEpTgimmCpw"},"issuerCountry":{"id":"urn:concept:es","type":"Concept","prefLabel":{"en":"Spain"}},"issuanceDate":"2025-05-04T10:00:00Z","issued":"2025-05-04T10:00:00Z","validFrom":"2025-05-04T10:00:00Z","qualityAssurance":{"id":"urn:concept:esg","type":"Concept","prefLabel":{"en":"ESG-compliant"}},"credentialSubject":{"id":"did:ebsi:example:student123","type":"Person","fullName":{"en":"Juan Pérez García"},"givenName":{"en":"Juan"},"familyName":{"en":"Pérez"},"nationalID":{"id":"urn:legal:es:DNI:12345678Z","type":"LegalIdentifier","notation":"12345678Z","spatial":{"id":"urn:concept:es","type":"Concept","prefLabel":{"en":"Spain"}}},"hasClaim":[{"id":"urn:uuid:1a2b3c4d-5e6f-7g8h-9i0j-1k2l3m4n5o6p","type":"LearningAchievement","title":{"en":"Advanced Data Analysis"},"creditReceived":[{"id":"urn:uuid:2b3c4d5e-6f7g-8h9i-0j1k-2l3m4n5o6p7q","type":"CreditPoint","framework":{"id":"urn:concept:ECTS","type":"Concept","prefLabel":{"en":"ECTS"}},"point":"5"}],"level":{"id":"urn:concept:eqf6","type":"Concept","prefLabel":{"en":"EQF Level 6"}},"participationForm":{"id":"urn:concept:online","type":"Concept","prefLabel":{"en":"Online"}},"stackability":{"id":"urn:concept:stackable","type":"Concept","prefLabel":{"en":"Stackable towards degree"}},"learningOutcome":[{"id":"urn:uuid:3c4d5e6f-7g8h-9i0j-1k2l-3m4n5o6p7q8r","type":"LearningOutcome","title":{"en":"Ability to analyze large datasets"},"relatedCompetence":[{"id":"urn:concept:data-analysis","type":"Concept","prefLabel":{"en":"Data Analysis"}}],"relatedESCOSkill":[{"id":"http://data.europa.eu/esco/skill/12345","type":"Concept","prefLabel":{"en":"Statistical Data Analysis"}}]}],"awardedBy":{"id":"urn:uuid:award-1","type":"AwardingProcess","awardingBody":{"id":"did:ebsi:ziuFQNRWr6vNeEpTgimmCpw","type":"Organisation","legalName":{"en":"Rovira i Virgili University"}}}},{"id":"urn:uuid:4d5e6f7g-8h9i-0j1k-2l3m-4n5o6p7q8r9s","type":"LearningAssessment","title":{"en":"Data Analysis Exam"},"assessmentType":{"id":"urn:concept:exam","type":"Concept","prefLabel":{"en":"Written Exam"}},"grade":{"id":"urn:uuid:5e6f7g8h-9i0j-1k2l-3m4n-5o6p7q8r9s0t","type":"Note","noteLiteral":{"en":"85/100"}},"awardedBy":{"id":"urn:uuid:award-2","type":"AwardingProcess","awardingBody":{"id":"did:ebsi:ziuFQNRWr6vNeEpTgimmCpw","type":"Organisation","legalName":{"en":"Rovira i Virgili University"}}}}]},"credentialSchema":{"id":"https://trusted-registries.ebsi.eu/schemas/euhemc/1.0","type":"JsonSchema"},"displayParameter":{"id":"urn:uuid:6f7g8h9i-0j1k-2l3m-4n5o-6p7q8r9s0t1u","type":"DisplayParameter","title":{"en":"EUHEMC Display"},"language":[{"id":"urn:concept:en","type":"Concept","prefLabel":{"en":"English"}}],"primaryLanguage":{"id":"urn:concept:en","type":"Concept","prefLabel":{"en":"English"}},"individualDisplay":[{"id":"urn:uuid:7g8h9i0j-1k2l-3m4n-5o6p-7q8r9s0t1u2v","type":"IndividualDisplay","fieldPath":"credentialSubject.fullName","label":{"en":"Full Name"},"order":1},{"id":"urn:uuid:8h9i0j1k-2l3m-4n5o-6p7q-8r9s0t1u2v3w","type":"IndividualDisplay","fieldPath":"credentialSubject.hasClaim[0].title","label":{"en":"Achievement Title"},"order":2}]}}
```

- Base64URL (approximate): 
eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSIsImh0dHBzOi8vdzNpZC5vcmcvZWRjL3YxIl0sImlkIjoidXJuOnV1aWQ6NGY4ZDdjOWUtOWExYi00YjFlLThmMmEtNWMzZTZkN2I5YzBkIiwidHlwZSI6WyJWZXJpZmlhYmxlQ3JlZGVudGlhbCIsIkV1cm9wZWFuRGlnaXRhbENyZWRlbnRpYWwiLCJFdXJvcGVhbkhpZ2hlckVkdWNhdGlvbk1pY3JvQ3JlZGVudGlhbHMiXSwiaXNzdWVyIjp7ImlkIjoiZGlkOmVic2k6eml1RlFOUldyNnZOZUVwVGdpbW1DcHcifSwiaXNzdWVyQ291bnRyeSI6eyJpZCI6InVybjpjb25jZXB0OmVzIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJTcGFpbiJ9fSwiaXNzdWFuY2VEYXRlIjoiMjAyNS0wNS0wNFQxMDowMDowMFoiLCJpc3N1ZWQiOiIyMDI1LTA1LTA0VDEwOjAwOjAwWiIsInZhbGlkRnJvbSI6IjIwMjUtMDUtMDRUMTA6MDA6MDBaIiwicXVhbGl0eUFzc3VyYW5jZSI6eyJpZCI6InVybjpjb25jZXB0OmVzZyIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRVNHLWNvbXBsaWFudCJ9fSwiY3JlZGVudGlhbFN1YmplY3QiOnsiaWQiOiJkaWQ6ZWJzaTpleGFtcGxlOnN0dWRlbnQxMjMiLCJ0eXBlIjoiUGVyc29uIiwiZnVsbE5hbWUiOnsiZW4iOiJKdWFuIFDDqXJleiBHYXJj7WEifSwiZ2l2ZW5OYW1lIjp7ImVuIjoiSnVhbiJ9LCJmYW1pbHlOYW1lIjp7ImVuIjoiUMOpcmV6In0sIm5hdGlvbmFsSUQiOnsiaWQiOiJ1cm46bGVnYWw6ZXM6RE5JOjEyMzQ1Njc4WiIsInR5cGUiOiJMZWdhbElkZW50aWZpZXIiLCJub3RhdGlvbiI6IjEyMzQ1Njc4WiIsInNwYXRpYWwiOnsiaWQiOiJ1cm46Y29uY2VwdDplcyIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiU3BhaW4ifX19LCJoYXNDbGFpbSI6W3siaWQiOiJ1cm46dXVpZDoxYTJiM2M0ZC01ZTZmLTdnOGgtOWkwai0xazJsM200bjVvNnAiLCJ0eXBlIjoiTGVhcm5pbmdBY2hpZXZlbWVudCIsInRpdGxlIjp7ImVuIjoiQWR2YW5jZWQgRGF0YSBBbmFseXNpcyJ9LCJjcmVkaXRSZWNlaXZlZCI6W3siaWQiOiJ1cm46dXVpZDoyYjNjNGQ1ZS02ZjdnLThoOWktMGoxay0ybDNtNG41bzZwN3EiLCJ0eXBlIjoiQ3JlZGl0UG9pbnQiLCJmcmFtZXdvcmsiOnsiaWQiOiJ1cm46Y29uY2VwdDpFQ1RTIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJFQ1RTIn19LCJwb2ludCI6IjUifV0sImxldmVsIjp7ImlkIjoidXJuOmNvbmNlcnQ6ZXFmNiIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRVFGIExldmVsIDYifX0sInBhcnRpY2lwYXRpb25Gb3JtIjp7ImlkIjoidXJuOmNvbmNlcnQ6b25saW5lIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJPbmxpbmUifX0sInN0YWNrYWJpbGl0eSI6eyJpZCI6InVybjpjb25jZXB0OnN0YWNrYWJsZSIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiU3RhY2thYmxlIHRvd2FyZHMgZGVncmVlIn19LCJsZWFybmluZ091dGNvbWUiOlt7ImlkIjoidXJuOnV1aWQ6M2M0ZDVlNmYtN2c4aC05aTBqLTFrMmwtM200bjVvNnA3cThyIiwidHlwZSI6IkxlYXJuaW5nT3V0Y29tZSIsInRpdGxlIjp7ImVuIjoiQWJpbGl0eSB0byBhbmFseXplIGxhcmdlIGRhdGFzZXRzIn0sInJlbGF0ZWRDb21wZXRlbmNlIjpbeyJpZCI6InVybjpjb25jZXB0OmRhdGEtYW5hbHlzaXMiLCJ0eXBlIjoiQ29uY2VwdCIsInByZWZMYWJlbCI6eyJlbiI6IkRhdGEgQW5hbHlzaXMifX1dLCJyZWxhdGVkRVNDT1NraWxsIjpbeyJpZCI6Imh0dHA6Ly9kYXRhLmV1cm9wYS5ldS9lc2NvL3NraWxsLzEyMzQ1IiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJTdGF0aXN0aWNhbCBEYXRhIEFuYWx5c2lzIn19XX1dLCJhd2FyZGVkQnkiOnsiaWQiOiJ1cm46dXVpZDphd2FyZC0xIiwidHlwZSI6IkF3YXJkaW5nUHJvY2VzcyIsImF3YXJkaW5nQm9keSI6eyJpZCI6ImRpZDplYnNpOnppdUZRTlJXcjZ2TmVFcFRnaW1tQ3B3IiwidHlwZSI6Ik9yZ2FuaXNhdGlvbiIsImxlZ2FsTmFtZSI6eyJlbiI6IlJvdmlyYSBpIFZpcmdpbGkgVW5pdmVyc2l0eSJ9fX19LHsiaWQiOiJ1cm46dXVpZDo0ZDVlNmY3Zy04aDlpLTBqMWstMmwzbS00bjVvNnA3cThyOXMiLCJ0eXBlIjoiTGVhcm5pbmdBc3Nlc3NtZW50IiwidGl0bGUiOnsiZW4iOiJEYXRhIEFuYWx5c2lzIEV4YW0ifSwiYXNzZXNzbWVudFR5cGUiOnsiaWQiOiJ1cm46Y29uY2VwdDpleGFtIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJXcml0dGVuIEV4YW0ifX0sImdyYWRlIjp7ImlkIjoidXJuOnV1aWQ6NWU2ZjdnOGgtOWkwai0xazJsLTMtNG4tNW82cDdxOHI5czB0IiwidHlwZSI6Ik5vdGUiLCJub3RlTGl0ZXJhbCI6eyJlbiI6Ijg1LzEwMCJ9fSwiYXdhcmRGVkQnkiOnsiaWQiOiJ1cm46dXVpZDphd2FyZC0yIiwidHlwZSI6IkF3YXJkaW5nUHJvY2VzcyIsImF3YXJkaW5nQm9keSI6eyJpZCI6ImRpZDplYnNpOnppdUZRTlJXcjZ2TmVFcFRnaW1tQ3B3IiwidHlwZSI6Ik9yZ2FuaXNhdGlvbiIsImxlZ2FsTmFtZSI6eyJlbiI6IlJvdmlyYSBpIFZpcmdpbGkgVW5pdmVyc2l0eSJ9fX19XX0sImNyZWRlbnRpYWxTY2hlbWEiOnsiaWQiOiJodHRwczovL3RydXN0ZWQtcmVnaXN0cmllcy5lYnNpLmV1L3NjaGVtYXMvZXVoZW1jLzEuMCIsInR5cGUiOiJKc29uU2NoZW1hIn0sImRpc3BsYXlQYXJhbWV0ZXIiOnsiaWQiOiJ1cm46dXVpZDo2ZjdnOGg5aS0wajFrLTJsM20tNG41by02cDdxOHI5czB0MXUiLCJ0eXBlIjoiRGlzcGxheVBhcmFtZXRlciIsInRpdGxlIjp7ImVuIjoiRVUIRU1DIERpc3BsYXkifSwibGFuZ3VhZ2UiOlt7ImlkIjoidXJuOmNvbmNlcnQ6ZW4iLCJ0eXBlIjoiQ29uY2VwdCIsInByZWZMYWJlbCI6eyJlbiI6IkVuZ2xpc2gifX1dLCJwcmltYXJ5TGFuZ3VhZ2UiOnsiaWQiOiJ1cm46Y29uY2VwdDplbiIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRW5nbGlzaCJ9fSwiaW5kaXZpZHVhbERpc3BsYXkiOlt7ImlkIjoidXJuOnV1aWQ6N2c4aDlpMGotMWsybC0zbTRuLTVvNnAtN3E4cjlzMHQxdTJ2IiwidHlwZSI6IkluZGl2aWR1YWxEaXNwbGF5IiwiZmllbGRQYXRoIjoiY3JlZGVudGlhbFN1YmplY3QuZnVsbE5hbWUiLCJsYWJlbCI6eyJlbiI6IkZ1bGwgTmFtZSJ9LCJvcmRlciI6MX0seyJpZCI6InVybjp1dWlkOjhoOWkwajFrLTJsM20tNG41by02cDdxLThyOXMwdDF1MnYzd3ciLCJ0eXBlIjoiSW5kaXZpZHVhbERpc3BsYXkiLCJmaWVsZFBhdGgiOiJjcmVkZW50aWFsU3ViamVjdC5oYXNDbGFpbVswXS50aXRsZSIsImxhYmVsIjp7ImVuIjoiQWNoaWV2ZW1lbnQgVGl0bGUifSwib3JkZXIiOjJ9XX19

### Signature: 
#### Placeholder for the ECDSA signature.
- Example format: [signature-placeholder].

## JWS Compact Serialisation:

eyJhbGciOiJFUzI1NiIsInR5cCI6ImphZGVzLWQteiIsImN0eSI6InZjK2xkK2pzb24iLCJraWQiOiJkaWQ6ZWJzaTp6aXVGUU5SV3I2dk5lRXBUZ2ltbUNwdyNrZXlzLTEiLCJjcml0IjpbInNpZ1QiLCJzaWdQbCJdLCJzaWdUIjoiMjAyNS0wNS0wNFQxMDowMDowMFoiLCJzaWdQbCI6eyJhZGRyZXNzQ291bnRyeSI6IkVTIiwiYWRkcmVzc0xvY2FsaXR5IjoiVGFycmFnb25hIiwicG9zdGFsQ29kZSI6IjQzMDA3Iiwic3RyZWV0QWRkcmVzcyI6IkNhcnJlciBkZSBsJ0VzY29yeGFkb3IsIHMvbiJ9fQ.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSIsImh0dHBzOi8vdzNpZC5vcmcvZWRjL3YxIl0sImlkIjoidXJuOnV1aWQ6NGY4ZDdjOWUtOWExYi00YjFlLThmMmEtNWMzZTZkN2I5YzBkIiwidHlwZSI6WyJWZXJpZmlhYmxlQ3JlZGVudGlhbCIsIkV1cm9wZWFuRGlnaXRhbENyZWRlbnRpYWwiLCJFdXJvcGVhbkhpZ2hlckVkdWNhdGlvbk1pY3JvQ3JlZGVudGlhbHMiXSwiaXNzdWVyIjp7ImlkIjoiZGlkOmVic2k6eml1RlFOUldyNnZOZUVwVGdpbW1DcHcifSwiaXNzdWVyQ291bnRyeSI6eyJpZCI6InVybjpjb25jZXB0OmVzIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJTcGFpbiJ9fSwiaXNzdWFuY2VEYXRlIjoiMjAyNS0wNS0wNFQxMDowMDowMFoiLCJpc3N1ZWQiOiIyMDI1LTA1LTA0VDEwOjAwOjAwWiIsInZhbGlkRnJvbSI6IjIwMjUtMDUtMDRUMTA6MDA6MDBaIiwicXVhbGl0eUFzc3VyYW5jZSI6eyJpZCI6InVybjpjb25jZXB0OmVzZyIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRVNHLWNvbXBsaWFudCJ9fSwiY3JlZGVudGlhbFN1YmplY3QiOnsiaWQiOiJkaWQ6ZWJzaTpleGFtcGxlOnN0dWRlbnQxMjMiLCJ0eXBlIjoiUGVyc29uIiwiZnVsbE5hbWUiOnsiZW4iOiJKdWFuIFDDqXJleiBHYXJj7WEifSwiZ2l2ZW5OYW1lIjp7ImVuIjoiSnVhbiJ9LCJmYW1pbHlOYW1lIjp7ImVuIjoiUMOpcmV6In0sIm5hdGlvbmFsSUQiOnsiaWQiOiJ1cm46bGVnYWw6ZXM6RE5JOjEyMzQ1Njc4WiIsInR5cGUiOiJMZWdhbElkZW50aWZpZXIiLCJub3RhdGlvbiI6IjEyMzQ1Njc4WiIsInNwYXRpYWwiOnsiaWQiOiJ1cm46Y29uY2VwdDplcyIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiU3BhaW4ifX19LCJoYXNDbGFpbSI6W3siaWQiOiJ1cm46dXVpZDoxYTJiM2M0ZC01ZTZmLTdnOGgtOWkwai0xazJsM200bjVvNnAiLCJ0eXBlIjoiTGVhcm5pbmdBY2hpZXZlbWVudCIsInRpdGxlIjp7ImVuIjoiQWR2YW5jZWQgRGF0YSBBbmFseXNpcyJ9LCJjcmVkaXRSZWNlaXZlZCI6W3siaWQiOiJ1cm46dXVpZDoyYjNjNGQ1ZS02ZjdnLThoOWktMGoxay0ybDNtNG41bzZwN3EiLCJ0eXBlIjoiQ3JlZGl0UG9pbnQiLCJmcmFtZXdvcmsiOnsiaWQiOiJ1cm46Y29uY2VwdDpFQ1RTIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJFQ1RTIn19LCJwb2ludCI6IjUifV0sImxldmVsIjp7ImlkIjoidXJuOmNvbmNlcnQ6ZXFmNiIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRVFGIExldmVsIDYifX0sInBhcnRpY2lwYXRpb25Gb3JtIjp7ImlkIjoidXJuOmNvbmNlcnQ6b25saW5lIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJPbmxpbmUifX0sInN0YWNrYWJpbGl0eSI6eyJpZCI6InVybjpjb25jZXB0OnN0YWNrYWJsZSIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiU3RhY2thYmxlIHRvd2FyZHMgZGVncmVlIn19LCJsZWFybmluZ091dGNvbWUiOlt7ImlkIjoidXJuOnV1aWQ6M2M0ZDVlNmYtN2c4aC05aTBqLTFrMmwtM200bjVvNnA3cThyIiwidHlwZSI6IkxlYXJuaW5nT3V0Y29tZSIsInRpdGxlIjp7ImVuIjoiQWJpbGl0eSB0byBhbmFseXplIGxhcmdlIGRhdGFzZXRzIn0sInJlbGF0ZWRDb21wZXRlbmNlIjpbeyJpZCI6InVybjpjb25jZXB0OmRhdGEtYW5hbHlzaXMiLCJ0eXBlIjoiQ29uY2VwdCIsInByZWZMYWJlbCI6eyJlbiI6IkRhdGEgQW5hbHlzaXMifX1dLCJyZWxhdGVkRVNDT1NraWxsIjpbeyJpZCI6Imh0dHA6Ly9kYXRhLmV1cm9wYS5ldS9lc2NvL3NraWxsLzEyMzQ1IiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJTdGF0aXN0aWNhbCBEYXRhIEFuYWx5c2lzIn19XX1dLCJhd2FyZGVkQnkiOnsiaWQiOiJ1cm46dXVpZDphd2FyZC0xIiwidHlwZSI6IkF3YXJkaW5nUHJvY2VzcyIsImF3YXJkaW5nQm9keSI6eyJpZCI6ImRpZDplYnNpOnppdUZRTlJXcjZ2TmVFcFRnaW1tQ3B3IiwidHlwZSI6Ik9yZ2FuaXNhdGlvbiIsImxlZ2FsTmFtZSI6eyJlbiI6IlJvdmlyYSBpIFZpcmdpbGkgVW5pdmVyc2l0eSJ9fX19LHsiaWQiOiJ1cm46dXVpZDo0ZDVlNmY3Zy04aDlpLTBqMWstMmwzbS00bjVvNnA3cThyOXMiLCJ0eXBlIjoiTGVhcm5pbmdBc3Nlc3NtZW50IiwidGl0bGUiOnsiZW4iOiJEYXRhIEFuYWx5c2lzIEV4YW0ifSwiYXNzZXNzbWVudFR5cGUiOnsiaWQiOiJ1cm46Y29uY2VwdDpleGFtIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJXcml0dGVuIEV4YW0ifX0sImdyYWRlIjp7ImlkIjoidXJuOnV1aWQ6NWU2ZjdnOGgtOWkwai0xazJsLTMtNG4tNW82cDdxOHI5czB0IiwidHlwZSI6Ik5vdGUiLCJub3RlTGl0ZXJhbCI6eyJlbiI6Ijg1LzEwMCJ9fSwiYXdhcmRGVkQnkiOnsiaWQiOiJ1cm46dXVpZDphd2FyZC0yIiwidHlwZSI6IkF3YXJkaW5nUHJvY2VzcyIsImF3YXJkaW5nQm9keSI6eyJpZCI6ImRpZDplYnNpOnppdUZRTlJXcjZ2TmVFcFRnaW1tQ3B3IiwidHlwZSI6Ik9yZ2FuaXNhdGlvbiIsImxlZ2FsTmFtZSI6eyJlbiI6IlJvdmlyYSBpIFZpcmdpbGkgVW5pdmVyc2l0eSJ9fX19XX0sImNyZWRlbnRpYWxTY2hlbWEiOnsiaWQiOiJodHRwczovL3RydXN0ZWQtcmVnaXN0cmllcy5lYnNpLmV1L3NjaGVtYXMvZXVoZW1jLzEuMCIsInR5cGUiOiJKc29uU2NoZW1hIn0sImRpc3BsYXlQYXJhbWV0ZXIiOnsiaWQiOiJ1cm46dXVpZDo2ZjdnOGg5aS0wajFrLTJsM20tNG41by02cDdxOHI5czB0MXUiLCJ0eXBlIjoiRGlzcGxheVBhcmFtZXRlciIsInRpdGxlIjp7ImVuIjoiRVUIRU1DIERpc3BsYXkifSwibGFuZ3VhZ2UiOlt7ImlkIjoidXJuOmNvbmNlcnQ6ZW4iLCJ0eXBlIjoiQ29uY2VwdCIsInByZWZMYWJlbCI6eyJlbiI6IkVuZ2xpc2gifX1dLCJwcmltYXJ5TGFuZ3VhZ2UiOnsiaWQiOiJ1cm46Y29uY2VwdDplbiIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRW5nbGlzaCJ9fSwiaW5kaXZpZHVhbERpc3BsYXkiOlt7ImlkIjoidXJuOnV1aWQ6N2c4aDlpMGotMWsybC0zbTRuLTVvNnAtN3E4cjlzMHQxdTJ2IiwidHlwZSI6IkluZGl2aWR1YWxEaXNwbGF5IiwiZmllbGRQYXRoIjoiY3JlZGVudGlhbFN1YmplY3QuZnVsbE5hbWUiLCJsYWJlbCI6eyJlbiI6IkZ1bGwgTmFtZSJ9LCJvcmRlciI6MX0seyJpZCI6InVybjp1dWlkOjhoOWkwajFrLTJsM20tNG41by02cDdxLThyOXMwdDF1MnYzd3ciLCJ0eXBlIjoiSW5kaXZpZHVhbERpc3BsYXkiLCJmaWVsZFBhdGgiOiJjcmVkZW50aWFsU3ViamVjdC5oYXNDbGFpbVswXS50aXRsZSIsImxhYmVsIjp7ImVuIjoiQWNoaWV2ZW1lbnQgVGl0bGUifSwib3JkZXIiOjJ9XX19.[signature-placeholder]


# JWS Compact Serialisation:
eyJhbGciOiJFUzI1NiIsInR5cCI6ImphZGVzLWQteiIsImN0eSI6InZjK2xkK2pzb24iLCJraWQiOiJkaWQ6ZWJzaTp6aXVGUU5SV3I2dk5lRXBUZ2ltbUNwdyNrZXlzLTEiLCJjcml0IjpbInNpZ1QiLCJzaWdQbCJdLCJzaWdUIjoiMjAyNS0wNS0wNFQxMDowMDowMFoiLCJzaWdQbCI6eyJhZGRyZXNzQ291bnRyeSI6IkVTIiwiYWRkcmVzc0xvY2FsaXR5IjoiVGFycmFnb25hIiwicG9zdGFsQ29kZSI6IjQzMDA3Iiwic3RyZWV0QWRkcmVzcyI6IkNhcnJlciBkZSBsJ0VzY29yeGFkb3IsIHMvbiJ9fQ.eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSIsImh0dHBzOi8vdzNpZC5vcmcvZWRjL3YxIl0sImlkIjoidXJuOnV1aWQ6NGY4ZDdjOWUtOWExYi00YjFlLThmMmEtNWMzZTZkN2I5YzBkIiwidHlwZSI6WyJWZXJpZmlhYmxlQ3JlZGVudGlhbCIsIkV1cm9wZWFuRGlnaXRhbENyZWRlbnRpYWwiLCJFdXJvcGVhbkhpZ2hlckVkdWNhdGlvbk1pY3JvQ3JlZGVudGlhbHMiXSwiaXNzdWVyIjp7ImlkIjoiZGlkOmVic2k6eml1RlFOUldyNnZOZUVwVGdpbW1DcHcifSwiaXNzdWVyQ291bnRyeSI6eyJpZCI6InVybjpjb25jZXB0OmVzIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJTcGFpbiJ9fSwiaXNzdWFuY2VEYXRlIjoiMjAyNS0wNS0wNFQxMDowMDowMFoiLCJpc3N1ZWQiOiIyMDI1LTA1LTA0VDEwOjAwOjAwWiIsInZhbGlkRnJvbSI6IjIwMjUtMDUtMDRUMTA6MDA6MDBaIiwicXVhbGl0eUFzc3VyYW5jZSI6eyJpZCI6InVybjpjb25jZXB0OmVzZyIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRVNHLWNvbXBsaWFudCJ9fSwiY3JlZGVudGlhbFN1YmplY3QiOnsiaWQiOiJkaWQ6ZWJzaTpleGFtcGxlOnN0dWRlbnQxMjMiLCJ0eXBlIjoiUGVyc29uIiwiZnVsbE5hbWUiOnsiZW4iOiJKdWFuIFDDqXJleiBHYXJj7WEifSwiZ2l2ZW5OYW1lIjp7ImVuIjoiSnVhbiJ9LCJmYW1pbHlOYW1lIjp7ImVuIjoiUMOpcmV6In0sIm5hdGlvbmFsSUQiOnsiaWQiOiJ1cm46bGVnYWw6ZXM6RE5JOjEyMzQ1Njc4WiIsInR5cGUiOiJMZWdhbElkZW50aWZpZXIiLCJub3RhdGlvbiI6IjEyMzQ1Njc4WiIsInNwYXRpYWwiOnsiaWQiOiJ1cm46Y29uY2VwdDplcyIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiU3BhaW4ifX19LCJoYXNDbGFpbSI6W3siaWQiOiJ1cm46dXVpZDoxYTJiM2M0ZC01ZTZmLTdnOGgtOWkwai0xazJsM200bjVvNnAiLCJ0eXBlIjoiTGVhcm5pbmdBY2hpZXZlbWVudCIsInRpdGxlIjp7ImVuIjoiQWR2YW5jZWQgRGF0YSBBbmFseXNpcyJ9LCJjcmVkaXRSZWNlaXZlZCI6W3siaWQiOiJ1cm46dXVpZDoyYjNjNGQ1ZS02ZjdnLThoOWktMGoxay0ybDNtNG41bzZwN3EiLCJ0eXBlIjoiQ3JlZGl0UG9pbnQiLCJmcmFtZXdvcmsiOnsiaWQiOiJ1cm46Y29uY2VwdDpFQ1RTIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJFQ1RTIn19LCJwb2ludCI6IjUifV0sImxldmVsIjp7ImlkIjoidXJuOmNvbmNlcnQ6ZXFmNiIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRVFGIExldmVsIDYifX0sInBhcnRpY2lwYXRpb25Gb3JtIjp7ImlkIjoidXJuOmNvbmNlcnQ6b25saW5lIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJPbmxpbmUifX0sInN0YWNrYWJpbGl0eSI6eyJpZCI6InVybjpjb25jZXB0OnN0YWNrYWJsZSIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiU3RhY2thYmxlIHRvd2FyZHMgZGVncmVlIn19LCJsZWFybmluZ091dGNvbWUiOlt7ImlkIjoidXJuOnV1aWQ6M2M0ZDVlNmYtN2c4aC05aTBqLTFrMmwtM200bjVvNnA3cThyIiwidHlwZSI6IkxlYXJuaW5nT3V0Y29tZSIsInRpdGxlIjp7ImVuIjoiQWJpbGl0eSB0byBhbmFseXplIGxhcmdlIGRhdGFzZXRzIn0sInJlbGF0ZWRDb21wZXRlbmNlIjpbeyJpZCI6InVybjpjb25jZXB0OmRhdGEtYW5hbHlzaXMiLCJ0eXBlIjoiQ29uY2VwdCIsInByZWZMYWJlbCI6eyJlbiI6IkRhdGEgQW5hbHlzaXMifX1dLCJyZWxhdGVkRVNDT1NraWxsIjpbeyJpZCI6Imh0dHA6Ly9kYXRhLmV1cm9wYS5ldS9lc2NvL3NraWxsLzEyMzQ1IiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJTdGF0aXN0aWNhbCBEYXRhIEFuYWx5c2lzIn19XX1dLCJhd2FyZGVkQnkiOnsiaWQiOiJ1cm46dXVpZDphd2FyZC0xIiwidHlwZSI6IkF3YXJkaW5nUHJvY2VzcyIsImF3YXJkaW5nQm9keSI6eyJpZCI6ImRpZDplYnNpOnppdUZRTlJXcjZ2TmVFcFRnaW1tQ3B3IiwidHlwZSI6Ik9yZ2FuaXNhdGlvbiIsImxlZ2FsTmFtZSI6eyJlbiI6IlJvdmlyYSBpIFZpcmdpbGkgVW5pdmVyc2l0eSJ9fX19LHsiaWQiOiJ1cm46dXVpZDo0ZDVlNmY3Zy04aDlpLTBqMWstMmwzbS00bjVvNnA3cThyOXMiLCJ0eXBlIjoiTGVhcm5pbmdBc3Nlc3NtZW50IiwidGl0bGUiOnsiZW4iOiJEYXRhIEFuYWx5c2lzIEV4YW0ifSwiYXNzZXNzbWVudFR5cGUiOnsiaWQiOiJ1cm46Y29uY2VwdDpleGFtIiwidHlwZSI6IkNvbmNlcnQiLCJwcmVmTGFiZWwiOnsiZW4iOiJXcml0dGVuIEV4YW0ifX0sImdyYWRlIjp7ImlkIjoidXJuOnV1aWQ6NWU2ZjdnOGgtOWkwai0xazJsLTMtNG4tNW82cDdxOHI5czB0IiwidHlwZSI6Ik5vdGUiLCJub3RlTGl0ZXJhbCI6eyJlbiI6Ijg1LzEwMCJ9fSwiYXdhcmRGVkQnkiOnsiaWQiOiJ1cm46dXVpZDphd2FyZC0yIiwidHlwZSI6IkF3YXJkaW5nUHJvY2VzcyIsImF3YXJkaW5nQm9keSI6eyJpZCI6ImRpZDplYnNpOnppdUZRTlJXcjZ2TmVFcFRnaW1tQ3B3IiwidHlwZSI6Ik9yZ2FuaXNhdGlvbiIsImxlZ2FsTmFtZSI6eyJlbiI6IlJvdmlyYSBpIFZpcmdpbGkgVW5pdmVyc2l0eSJ9fX19XX0sImNyZWRlbnRpYWxTY2hlbWEiOnsiaWQiOiJodHRwczovL3RydXN0ZWQtcmVnaXN0cmllcy5lYnNpLmV1L3NjaGVtYXMvZXVoZW1jLzEuMCIsInR5cGUiOiJKc29uU2NoZW1hIn0sImRpc3BsYXlQYXJhbWV0ZXIiOnsiaWQiOiJ1cm46dXVpZDo2ZjdnOGg5aS0wajFrLTJsM20tNG41by02cDdxOHI5czB0MXUiLCJ0eXBlIjoiRGlzcGxheVBhcmFtZXRlciIsInRpdGxlIjp7ImVuIjoiRVUIRU1DIERpc3BsYXkifSwibGFuZ3VhZ2UiOlt7ImlkIjoidXJuOmNvbmNlcnQ6ZW4iLCJ0eXBlIjoiQ29uY2VwdCIsInByZWZMYWJlbCI6eyJlbiI6IkVuZ2xpc2gifX1dLCJwcmltYXJ5TGFuZ3VhZ2UiOnsiaWQiOiJ1cm46Y29uY2VwdDplbiIsInR5cGUiOiJDb25jZXB0IiwicHJlZkxhYmVsIjp7ImVuIjoiRW5nbGlzaCJ9fSwiaW5kaXZpZHVhbERpc3BsYXkiOlt7ImlkIjoidXJuOnV1aWQ6N2c4aDlpMGotMWsybC0zbTRuLTVvNnAtN3E4cjlzMHQxdTJ2IiwidHlwZSI6IkluZGl2aWR1YWxEaXNwbGF5IiwiZmllbGRQYXRoIjoiY3JlZGVudGlhbFN1YmplY3QuZnVsbE5hbWUiLCJsYWJlbCI6eyJlbiI6IkZ1bGwgTmFtZSJ9LCJvcmRlciI6MX0seyJpZCI6InVybjp1dWlkOjhoOWkwajFrLTJsM20tNG41by02cDdxLThyOXMwdDF1MnYzd3ciLCJ0eXBlIjoiSW5kaXZpZHVhbERpc3BsYXkiLCJmaWVsZFBhdGgiOiJjcmVkZW50aWFsU3ViamVjdC5oYXNDbGFpbVswXS50aXRsZSIsImxhYmVsIjp7ImVuIjoiQWNoaWV2ZW1lbnQgVGl0bGUifSwib3JkZXIiOjJ9XX19.[signature-placeholder]


# Signing Process

-Prepare Header: Include alg, typ, cty, kid, crit, sigT, sigPl; encode as Base64URL.
-Prepare Payload: Minify the unsigned credential, ensuring all mandatory elements (e.g., issuerCountry, qualityAssurance, level, participationForm, assessmentType) are included; encode as Base64URL.
-Sign: Compute ECDSA signature over ASCII(BASE64URL(UTF8(Header)) || '.' || BASE64URL(Payload)) using the private key.
-Combine: Form the JWS as <header>.<payload>.<signature>.

# Verification Process
-Decode JWS: Split the JWS into header, payload, and signature components.
-Validate Header: Check alg (ES256), typ (jades-d-z), cty (vc+ld+json), kid, sigT, and sigPl for correctness.
-Validate Payload: Ensure the payload is a valid JSON-LD Verifiable Credential conforming to the EUHEMC schema, with all mandatory Annex I elements (e.g., learner identification, title, country of issuer, quality assurance).
-Verify Signature: Use the issuer’s public key (retrieved from the DID) to verify the ECDSA signature over ASCII(BASE64URL(UTF8(Header)) || '.' || BASE64URL(Payload)).
-Check Trust: Confirm the issuer is in EBSI’s trusted registries (credentialSchema.id) and the credential aligns with ESG quality assurance standards.